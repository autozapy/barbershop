<!-- Header -->
<div class="barber-bg-gradient text-white py-3 py-md-4">
  <div class="container-fluid px-3">
    <div class="row align-items-center">
      <div class="col">
        <h2 class="fw-bold mb-0 fs-5 fs-md-4">
          <i class="bi bi-calendar3 me-2"></i>
          Agendamentos
        </h2>
      </div>
    </div>
  </div>
</div>

<!-- Professional Selection Section -->
<div id="professional-selection" class="min-vh-100 bg-light d-none">
  <div class="container-fluid px-3 py-4">
    <div class="row justify-content-center">
      <div class="col-12 col-md-10 col-lg-8">
        <div class="card shadow-sm">
          <div class="card-body p-3 p-md-5">
            <div class="text-center mb-4">
              <i class="bi bi-person-badge barber-gold mb-3" style="font-size: 2.5rem;"></i>
              <h3 class="fw-bold fs-4 fs-md-3">Selecione o Profissional</h3>
              <p class="text-muted small">Escolha qual profissional deseja visualizar os agendamentos</p>
            </div>

            <div class="row g-3 justify-content-center row-cols-1 row-cols-sm-2 row-cols-lg-3" id="professionals-grid">
              <!-- Professionals will be loaded by JavaScript -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Estabelecimento n√£o encontrado -->
<section id="estabelecimento-nao-encontrado"
  class="min-vh-100 d-flex align-items-center justify-content-center bg-light d-none">
  <div class="text-center px-3">
    <i class="bi bi-exclamation-triangle text-warning mb-3" style="font-size: 3rem;"></i>
    <h2 class="fw-bold">Estabelecimento n√£o encontrado</h2>
    <p class="text-muted">
      N√£o conseguimos localizar nenhuma barbearia para este link.<br>
      Verifique se a URL est√° correta ou entre em contato com o estabelecimento.
    </p>
    <a href="/" class="btn btn-outline-primary mt-3">
      Voltar para a p√°gina inicial
    </a>
  </div>
</section>

<!-- Appointments View Section -->
<div id="appointments-view" class="min-vh-100 bg-light d-none">
  <div class="container-fluid px-3 py-3 py-md-4">
    <!-- Professional Info Header -->
    <div class="card shadow-sm mb-3 mb-md-4">
      <div class="card-body p-3 p-md-4">
        <div class="row align-items-center">
          <div class="col-12 col-md-6 mb-3 mb-md-0">
            <div class="d-flex align-items-center justify-content-center justify-content-md-start">
              <div class="fs-1 me-3" id="professional-avatar">üë®‚Äçü¶≤</div>
              <div class="text-center text-md-start">
                <h4 class="fw-bold mb-1 fs-5 fs-md-4" id="professional-name">Carlos Silva</h4>
                <p class="text-muted mb-0 small" id="professional-experience">8 anos de experi√™ncia</p>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-6">
            <div class="text-center text-md-end">
              <button class="btn btn-barber-primary btn-sm me-2" onclick="showBlockModal()">
                <i class="bi bi-calendar-x me-2"></i>
                Criar Bloqueio
              </button>
              <button class="btn btn-barber-outline btn-sm" onclick="backToProfessionalSelection()">
                <i class="bi bi-arrow-left me-2"></i>
                Trocar Profissional
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Date Navigation -->
    <div class="card shadow-sm mb-3 mb-md-4">
      <div class="card-body p-3">
        <div class="row align-items-center">
          <div class="col-auto">
            <button class="btn btn-barber-outline btn-sm" id="prev-day-btn">
              <i class="bi bi-chevron-left"></i>
            </button>
          </div>
          <div class="col text-center">
            <h5 class="fw-bold mb-0 fs-6 fs-md-5" id="current-date">Hoje, 29 de Julho de 2025</h5>
            <small class="text-muted" id="current-weekday">Segunda-feira</small>
          </div>
          <div class="col-auto">
            <button class="btn btn-barber-outline btn-sm" id="next-day-btn">
              <i class="bi bi-chevron-right"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Appointments List -->
    <div class="row">
      <div class="col-12">
        <div class="card shadow-sm">
          <div class="card-header bg-white p-3">
            <div class="row align-items-center">
              <div class="col">
                <h5 class="fw-bold mb-0 fs-6 fs-md-5">
                  <i class="bi bi-clock me-2"></i>
                  Agendamentos do Dia
                </h5>
              </div>
              <div class="col-auto">
                <span class="badge bg-primary" id="appointments-count">5 agendamentos</span>
              </div>
            </div>
          </div>
          <div class="card-body p-0">
            <div id="appointments-list">
              <!-- Appointments will be loaded by JavaScript -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Confirmation Modal -->
<div class="modal fade" id="confirmationModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modal-title">Confirmar A√ß√£o</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body" id="modal-body">
        Tem certeza que deseja realizar esta a√ß√£o?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-barber-primary" id="confirm-action-btn">Confirmar</button>
      </div>
    </div>
  </div>
</div>

<!-- Block Creation Modal -->
<div class="modal fade" id="blockModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">
          <i class="bi bi-calendar-x me-2"></i>
          Criar Bloqueio de Agenda
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="blockForm">
          <div class="row">
            <div class="col-12 mb-3">
              <label for="blockDate" class="form-label">
                <i class="bi bi-calendar3 me-1"></i>
                Data
              </label>
              <input type="text" class="form-control" id="blockDate" required>
              <div class="invalid-feedback" id="blockDateError"></div>
            </div>

            <div class="col-md-6 mb-3">
              <label for="blockStartTime" class="form-label">
                <i class="bi bi-clock me-1"></i>
                Hora In√≠cio
              </label>
              <input type="text" class="form-control" id="blockStartTime" required>
              <div class="invalid-feedback" id="blockStartTimeError"></div>
            </div>

            <div class="col-md-6 mb-3">
              <label for="blockEndTime" class="form-label">
                <i class="bi bi-clock-fill me-1"></i>
                Hora Fim
              </label>
              <input type="text" class="form-control" id="blockEndTime" required>
              <div class="invalid-feedback" id="blockEndTimeError"></div>
            </div>
          </div>

          <div class="alert alert-info">
            <i class="bi bi-info-circle me-2"></i>
            <strong>Importante:</strong> S√≥ √© poss√≠vel criar bloqueios em hor√°rios livres. O sistema verificar√°
            automaticamente se h√° conflitos com agendamentos existentes.
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-barber-primary" id="confirmBlockBtn" onclick="createBlock()">
          <i class="bi bi-check-circle me-2"></i>
          Confirmar Bloqueio
        </button>
      </div>
    </div>
  </div>
</div>